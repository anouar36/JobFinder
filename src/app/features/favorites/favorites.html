<div class="favorites-page">
  <div class="header">
    <h1>My Favorites</h1>
    <p class="hint">Here you can see the jobs you saved (clicked the heart).</p>
  </div>

  <!-- Loading / Error states -->
  <div class="state" *ngIf="(loading$ | async)">Loading favorites...</div>
  <div class="state error" *ngIf="(error$ | async) as err">{{ err }}</div>

  <!-- Favorites list -->
  <ng-container *ngIf="(favorites$ | async) as favorites">
    <div class="empty" *ngIf="favorites.length === 0">
      No favorites yet. Go back to Dashboard and click the heart.
    </div>

    <div class="favorites-list" *ngIf="favorites.length > 0">
      <div class="fav-card" *ngFor="let fav of favorites">
        <div class="fav-main">
          <h2 class="title">{{ fav.title }}</h2>
          <div class="meta">
            <span class="company">{{ fav.company }}</span>
            <span class="dot">â€¢</span>
            <span class="location">{{ fav.location }}</span>
          </div>
          <div class="date">Saved: {{ fav.dateAdded | date : 'medium' }}</div>
        </div>

        <div class="fav-actions">
          <button class="btn" (click)="openOffer(fav)">Open</button>
          <button class="btn danger" (click)="removeFavorite(fav)">Remove</button>
        </div>
      </div>
    </div>
  </ng-container>
</div>
